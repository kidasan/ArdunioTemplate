利用方法

■ツールの用意

ARDUINOのサイトからIDEを持ってきます。

https://www.arduino.cc/en/main/software

"Downloading the Arduino IDE"とあるので、そこから持ってくる。


■ソースのコンパイル

ソースを[ファイル]→[開く]で読み込みます。

[スケッチ]→[検証・コンパイル]で書いたプログラムのコンパイルが行われます。
構文の記述が問題あれば、そこでエラーが出ます。。

■マイコンへの書き込み

[スケッチ]→[マイコンボードに書き込む] でARDUINOマイコンに書き込まれます。

注意： [ツール]→[シリアルモニタ]でシリアルを開いていると書き込みに使えないので
       シリアルモニタのウインドウを閉じる必要があります。があります。


■ハード的な注意

CANのD-SUBはOBD-IIのコネクタと互換がありません。
詳細は、以下のURLを参照してください。

http://wiki.seeed.cc/CAN-BUS_Shield_V1.2/

サンプルプログラムではCANのCS(ChipSelect)が10ピンとなってますが、
基板を購入したときのデフォルトのピン設定は9ピンとなります。
サンプルのまま動かすとCANチップの初期化エラーとなります。
(サンプル通りする場合には基板の裏面のCSシルク部分のパターンをカットして
半田付けする必要があります。

■その他

C言語との違いは、intが16bit幅となります。
32bitとしたい場合にはlong intとして定義します。

main()がない代わりにsetup()があります。

また、loop()関数がループ的に呼ばれるようになってます。

■TODO

EthernetとSDCardは手付かず。
CANに限らないツールとして利用する用途で拡張することを考えています。
